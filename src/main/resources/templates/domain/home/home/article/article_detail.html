<html layout:decorate="~{domain/home/home/layout}">
<div layout:fragment="content">
    <div class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8">
        <div class="sm:mx-auto sm:w-full sm:max-w-sm grid grid-cols-1 divide-y">
            <!-- 제목 -->
            <div>
                <h1 class="text-5xl font-bold mx-2" th:text="${article.title}"></h1>
                <div class="text-sm opacity-50 mb-2 text-right"
                     th:text="${#temporals.format(article.createDate, 'yyyy-MM-dd HH:mm')}">
                </div>
            </div>
            <!-- 내용 -->
            <div class="mb-20">
                <h1 class="text-3xl mx-2 mt-3 mb-1" th:text="${article.body}"></h1>
            </div>
            <!-- 댓글 -->
            <div>
                <div class="collapse bg-base-200 my-3">
                    <input type="checkbox" class="peer" />
                    <!-- 댓글 개수 표시 -->
                    <div class="collapse-title text-xl font-medium">
                        <h5 th:text="|${#lists.size(article.commentList)}개의 댓글이 있습니다.|"></h5>
                    </div>
                    <!-- 댓글 내용 반복 -->
                    <div class="collapse-content">
                        <div class="chat chat-end mb-3">
                            <div class="chat-bubble">
                                <div th:each="comment : ${article.commentList}">
                                    <h1 style="white-space: pre-line;" th:text="${comment.body}"></h1>
                                    <div class="text-xs chat-footer opacity-50"
                                         th:text="${#temporals.format(comment.createDate, 'yyyy-MM-dd HH:mm')}"></div>
                                </div>
                            </div>
                        </div>
                        <!-- 댓글 입력 -->
                        <div>
                            <form th:action="@{|/post/${article.id}/comment/write|}" method="post"
                                  class="flex flex-col">
                                <textarea class="textarea textarea-bordered" placeholder="텍스트를 입력해주세요." name="content"
                                          id="content"></textarea>
                                <button class="btn btn-xs sm:btn-sm md:btn-md lg:btn-lg mt-3">댓글 등록</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</html>